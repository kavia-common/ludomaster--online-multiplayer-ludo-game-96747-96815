{"is_source_file": true, "format": "JavaScript", "description": "This file serves as a client utility for API interactions, encapsulating fetch requests with JSON handling and WebSocket creation with automatic token inclusion for a multiplayer Ludo game frontend. It facilitates communication with backend endpoints for authentication, game actions, chat, and stats, and manages WebSocket connections for real-time updates.", "external_files": ["../state/authStore", "reconnecting-websocket"], "external_methods": ["useAuthStore.getState", "URLSearchParams", "fetch", "JSON.parse"], "published": ["apiRequest", "createWS"], "classes": [], "methods": [{"name": "getToken()", "description": "INTERNAL: Retrieves the current auth token directly from auth store without React hook.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, { method = \"GET\", body, headers = {}, apiBase } = {})", "description": "Makes an authenticated JSON HTTP request to the backend, handling the URL construction, including auth token in headers if available, and parsing the JSON response with error handling.", "scope": "", "scopeKind": ""}, {"name": "createWS(path, { wsBase, params = {} } = {})", "description": "Creates a reconnecting WebSocket connection with the specified path and parameters, automatically appending the current auth token as a query parameter. Returns the WebSocket object and the URL.", "scope": "", "scopeKind": ""}, {"name": "FormField({ id, label, help, error, children, required })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeDecode(token)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useAuthStore.getState", "new URLSearchParams", "fetch", "JSON.parse", "process.env.REACT_APP_API_BASE", "process.env.REACT_APP_WS_BASE"], "search-terms": ["apiRequest", "WebSocket", "auth token", "reconnecting WebSocket", "fetch wrapper", "frontend API client"], "state": 2, "file_id": 13, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "${id}-help", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^      {help && <div id={`${id}-help`} className=\"muted\" style={{ marginTop: 6 }}>{help}<\\/div>}$/", "language": "JavaScript", "kind": "field", "scope": "FormField.help", "scopeKind": "class"}, {"_type": "tag", "name": "FormField", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^export default function FormField({ id, label, help, error, children, required }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ id, label, help, error, children, required })"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^export async function apiRequest(path, { method = \"GET\", body, headers = {}, apiBase } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = \"GET\", body, headers = {}, apiBase } = {})"}, {"_type": "tag", "name": "createWS", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^export function createWS(path, { wsBase, params = {} } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { wsBase, params = {} } = {})"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "apiRequest.opts", "scopeKind": "class"}, {"_type": "tag", "name": "safeDecode", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^function safeDecode(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^          value={text}$/", "language": "JavaScript", "kind": "field", "scope": "FormField.value", "scopeKind": "class"}, {"_type": "tag", "name": "useAuthStore", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^export const useAuthStore = create($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "useGameStore", "path": "/home/kavia/workspace/code-generation/ludomaster--online-multiplayer-ludo-game-96747-96815/FrontendWebApplication/src/api/client.js", "pattern": "/^export const useGameStore = create((set, get) => ({$/", "language": "JavaScript", "kind": "constant"}], "hash": "1bb27d81e9c9d85071dc86268f217ca6", "format-version": 4, "code-base-name": "FrontendWebApplication", "filename": "FrontendWebApplication/src/api/client.js", "fields": [{"name": "{help && <div id={`${id}-help`} className=\"muted\" style={{ marginTop: 6 }}>{help}<\\/div>}", "scope": "FormField.help", "scopeKind": "class", "description": "unavailable"}, {"name": "method,", "scope": "apiRequest.opts", "scopeKind": "class", "description": "unavailable"}, {"name": "value={text}", "scope": "FormField.value", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"31": ""}]}